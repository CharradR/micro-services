-- id auto-incrémenté, on ne précise pas id ici
CREATE TABLE public.attendance (
	id int4 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"date" date NULL,
	group_id int4 NULL,
	s1 bool NOT NULL,
	s2 bool NOT NULL,
	s3 bool NOT NULL,
	s4 bool NOT NULL,
	student_id int4 NULL,
	CONSTRAINT attendance_pkey PRIMARY KEY (id)
);
INSERT INTO attendance (s1, s2, s3, s4, student_id, group_id, date) VALUES
-- Classe 1 : 7 étudiants sur 2 dates
(TRUE, FALSE, TRUE, TRUE, 1, 1, '2025-07-10'),
(TRUE, TRUE, FALSE, TRUE, 2, 1, '2025-07-10'),
(FALSE, TRUE, TRUE, TRUE, 3, 1, '2025-07-10'),
(TRUE, TRUE, TRUE, FALSE, 4, 1, '2025-07-10'),
(TRUE, FALSE, FALSE, TRUE, 5, 1, '2025-07-10'),
(FALSE, TRUE, TRUE, FALSE, 6, 1, '2025-07-10'),
(TRUE, TRUE, TRUE, TRUE, 7, 1, '2025-07-10'),

(TRUE, TRUE, TRUE, TRUE, 1, 1, '2025-07-11'),
(TRUE, FALSE, TRUE, FALSE, 2, 1, '2025-07-11'),
(TRUE, TRUE, FALSE, TRUE, 3, 1, '2025-07-11'),
(FALSE, TRUE, TRUE, TRUE, 4, 1, '2025-07-11'),
(TRUE, TRUE, FALSE, TRUE, 5, 1, '2025-07-11'),
(FALSE, FALSE, TRUE, TRUE, 6, 1, '2025-07-11'),
(TRUE, TRUE, TRUE, TRUE, 7, 1, '2025-07-11'),

-- Classe 2 : 2 étudiants
(TRUE, TRUE, FALSE, TRUE, 8, 2, '2025-07-10'),
(FALSE, TRUE, TRUE, TRUE, 9, 2, '2025-07-10'),

(TRUE, FALSE, TRUE, TRUE, 8, 2, '2025-07-11'),
(TRUE, TRUE, FALSE, TRUE, 9, 2, '2025-07-11'),

-- Classe 3 : 5 étudiants
(TRUE, TRUE, TRUE, FALSE, 10, 3, '2025-07-10'),
(FALSE, TRUE, TRUE, TRUE, 11, 3, '2025-07-10'),
(TRUE, FALSE, TRUE, TRUE, 12, 3, '2025-07-10'),
(TRUE, TRUE, FALSE, TRUE, 13, 3, '2025-07-10'),
(FALSE, TRUE, TRUE, FALSE, 14, 3, '2025-07-10'),

(TRUE, TRUE, TRUE, TRUE, 10, 3, '2025-07-11'),
(TRUE, FALSE, TRUE, TRUE, 11, 3, '2025-07-11'),
(TRUE, TRUE, FALSE, TRUE, 12, 3, '2025-07-11'),
(FALSE, TRUE, TRUE, TRUE, 13, 3, '2025-07-11'),
(TRUE, FALSE, TRUE, TRUE, 14, 3, '2025-07-11'),

-- Classe 4 : 4 étudiants
(TRUE, TRUE, FALSE, TRUE, 15, 4, '2025-07-10'),
(FALSE, TRUE, TRUE, TRUE, 16, 4, '2025-07-10'),
(TRUE, FALSE, TRUE, TRUE, 17, 4, '2025-07-10'),
(TRUE, TRUE, TRUE, FALSE, 18, 4, '2025-07-10'),

(TRUE, TRUE, TRUE, TRUE, 15, 4, '2025-07-11'),
(TRUE, FALSE, TRUE, FALSE, 16, 4, '2025-07-11'),
(TRUE, TRUE, FALSE, TRUE, 17, 4, '2025-07-11'),
(FALSE, TRUE, TRUE, TRUE, 18, 4, '2025-07-11'),

-- Classe 5 : 3 étudiants
(TRUE, TRUE, TRUE, FALSE, 19, 5, '2025-07-10'),
(TRUE, FALSE, TRUE, TRUE, 20, 5, '2025-07-10'),
(FALSE, TRUE, TRUE, TRUE, 21, 5, '2025-07-10'),

(TRUE, TRUE, FALSE, TRUE, 19, 5, '2025-07-11'),
(FALSE, TRUE, TRUE, TRUE, 20, 5, '2025-07-11'),
(TRUE, FALSE, TRUE, TRUE, 21, 5, '2025-07-11');

