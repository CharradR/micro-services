{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet BookDetailsComponent = class BookDetailsComponent {\n  constructor(route, bookService) {\n    this.route = route;\n    this.bookService = bookService;\n    this.email = '';\n  }\n  // ngOnInit(): void {\n  //   const id = this.route.snapshot.paramMap.get('id');\n  //   if (id) {\n  //     this.bookService.getBookById(id).subscribe({\n  //       next: (book) => (this.book = book),\n  //       error: (err) => console.error('Erreur de chargement :', err)\n  //     });\n  //   }\n  // }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.bookService.getBookById(id).subscribe({\n        next: book => {\n          this.book = book;\n          this.imageUrl = `assets/images/book-${book.id}.png`; // ðŸ’¡ construit dynamiquement l'URL\n        },\n\n        error: err => console.error('Erreur de chargement :', err)\n      });\n    }\n  }\n  borrowBook(bookId) {\n    if (!this.email) {\n      alert('Veuillez entrer votre email.');\n      return;\n    }\n    // this.http.post('/api/loans', {\n    //   bookId: bookId,\n    //   email: this.email\n    // }).subscribe({\n    //   next: () => alert(\"Emprunt effectuÃ© ! VÃ©rifiez votre email.\"),\n    //   error: err => alert(\"Erreur : \" + err.error?.message || err.message)\n    // });\n  }\n};\n\nBookDetailsComponent = __decorate([Component({\n  selector: 'app-book-details',\n  templateUrl: './book-details.component.html',\n  styleUrls: ['./book-details.component.css']\n})], BookDetailsComponent);\nexport { BookDetailsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAG/BC,YACUC,KAAqB,EACrBC,WAAwB;IADxB,UAAK,GAALD,KAAK;IACL,gBAAW,GAAXC,WAAW;IAyBrB,UAAK,GAAW,EAAE;EAxBd;EAGJ;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,QAAQ;IACN,MAAMC,EAAE,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACjD,IAAIH,EAAE,EAAE;MACN,IAAI,CAACF,WAAW,CAACM,WAAW,CAACJ,EAAE,CAAC,CAACK,SAAS,CAAC;QACzCC,IAAI,EAAGC,IAAI,IAAI;UACb,IAAI,CAACA,IAAI,GAAGA,IAAI;UAChB,IAAI,CAACC,QAAQ,GAAG,sBAAsBD,IAAI,CAACP,EAAE,MAAM,CAAC,CAAC;QACvD,CAAC;;QACDS,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAEC,GAAG;OAC5D,CAAC;;EAEN;EAGFE,UAAU,CAACC,MAAc;IACvB,IAAI,CAAC,IAAI,CAACC,KAAK,EAAE;MACfC,KAAK,CAAC,8BAA8B,CAAC;MACrC;;IAGF;IACA;IACA;IACA;IACA;IACA;IACA;EACF;CACC;;AA9CYpB,oBAAoB,eALhCD,SAAS,CAAC;EACTsB,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,GACWvB,oBAAoB,CA8ChC;SA9CYA,oBAAoB","names":["Component","BookDetailsComponent","constructor","route","bookService","ngOnInit","id","snapshot","paramMap","get","getBookById","subscribe","next","book","imageUrl","error","err","console","borrowBook","bookId","email","alert","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\donia\\Desktop\\micro-services\\educationProject\\src\\app\\components\\book-details\\book-details.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-book-details',\n  templateUrl: './book-details.component.html',\n  styleUrls: ['./book-details.component.css']\n})\nexport class BookDetailsComponent {\n  book: Book | undefined;\n\n  constructor(\n    private route: ActivatedRoute,\n    private bookService: BookService\n  ) { }\n  imageUrl: string | undefined;\n\n  // ngOnInit(): void {\n  //   const id = this.route.snapshot.paramMap.get('id');\n  //   if (id) {\n  //     this.bookService.getBookById(id).subscribe({\n  //       next: (book) => (this.book = book),\n  //       error: (err) => console.error('Erreur de chargement :', err)\n  //     });\n  //   }\n  // }\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.bookService.getBookById(id).subscribe({\n        next: (book) => {\n          this.book = book;\n          this.imageUrl = `assets/images/book-${book.id}.png`; // ðŸ’¡ construit dynamiquement l'URL\n        },\n        error: (err) => console.error('Erreur de chargement :', err)\n      });\n    }\n  }\n  email: string = '';\n\nborrowBook(bookId: string) {\n  if (!this.email) {\n    alert('Veuillez entrer votre email.');\n    return;\n  }\n\n  // this.http.post('/api/loans', {\n  //   bookId: bookId,\n  //   email: this.email\n  // }).subscribe({\n  //   next: () => alert(\"Emprunt effectuÃ© ! VÃ©rifiez votre email.\"),\n  //   error: err => alert(\"Erreur : \" + err.error?.message || err.message)\n  // });\n}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}